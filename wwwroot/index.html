<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Management</title>
    <link rel="stylesheet" href="/css/site.css">
    <!-- <link rel="stylesheet" href="/css/login.css"> -->
</head>
<body>
    <h1>Book Management</h1>
    <p id="counter"></p>

    <table>
        <thead>
            <tr>
                <th>Only Adults</th>
                <th>Book Name</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="list"></tbody>
    </table>
    <button onclick="getAuthor()">Author details</button>
    <table id="authorTable" style="display: none;">
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Address</th>
                <th>Level</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="author"></tbody>
    </table>
    <h2>Add a New Book</h2>
    <form onsubmit="addItem(); return false;">
        <label for="add-name">Book Name:</label>
        <input type="text" id="add-name" required>
        <label for="edit-isOnlyAdults">Only Adults:</label>
        <input type="checkbox" id="add-isOnlyAdults">
        <label for="add-author" class="librarian">Author:</label>
        <select id="add-author" class="librarian">
        </select>
        <br>
        <button type="submit">Add</button>
    </form>

    <div id="editForm" style="display:none;">
        <h2>Edit Book</h2>
        <form onsubmit="updateItem(); return false;">
            <input type="hidden" id="edit-id">
            <input type="hidden" id="edit-authorId">
            <label for="edit-name">Book Name:</label>
            <input type="text" id="edit-name" required>
            <label for="edit-isOnlyAdults">Only Adults:</label>
            <input type="checkbox" id="edit-isOnlyAdults">
            <button type="submit">Update</button>
            <button type="button" onclick="closeInput()">Cancel</button>
        </form>
    </div>

    <div id="editAuthorForm" style="display:none;">
        <h2>Edit Author</h2>
        
        <form onsubmit="updateAuthor(); return false;">
            <input type="hidden" id="edit-AuthorId">
            <label for="edit-AuthorName">Author Name:</label>
            <input type="text" id="edit-AuthorName" required>
            <label for="edit-AuthorEmail">Email:</label>
            <input type="text" id="edit-AuthorEmail">
            <label for="edit-AuthorAdrress">Adrress:</label>
            <input type="text" id="edit-AuthorAdrress">
            <label for="edit-AuthorPassword">Password:</label>
            <input type="text" id="edit-AuthorPassword">
            <label for="edit-AuthorLevel">Level:</label>
            <select id="edit-AuthorLevel">
                <!-- <option value="1">Librarian</option> -->
                <option value="2">Author</option>
            </select><br>
            <button type="submit">Update</button>
            <button type="button" onclick="closeInput()">Cancel</button>
        </form>
    </div>

    <script src="/js/site.js"></script>
    <script src="/js/author.js"></script>
</body>
</html>